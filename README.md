# Arcimoog

Tools to create and manage control voltages for analog synthesizers
through an audio interface.


## Approaches in this collection of tools

To generate control voltages (CV) digitally, I currently use
DC-coupled audio interfaces by MOTU (UltraLite MK4 with 8 output
channels and two connected AVB A16 with 16 output channels each). Each
output channel of the audio interface represents one CV that can be
used to modulate one parameter of an analog synthesizer. The audio
signals need to be generated by software. Various approaches are being
evaluated.

### Reaper plugins
#### Proof of concept (2nd of December 2021)
A rudimentary reaper plugin was used to generate constant CVs, using a
MOTU UltraLite MK4 interface (8 output channels). This setup works for
the following aspects.

- The CVs are constant, without fluctuations or distortions. Used to
  modulate the VCO, the pitch is perfectly stable.
- The CVs are reproductible. Used to modulate the VCO, the output
  values of the plugin lead to the same sounding frequencies.
- The CVs are predictable. Used to modulate the VCO, intervals can be
  calculated in a straight forward way, for example by using
  logarithms for ratio based interval definitions.

#### User Guide: Installation
The Reaper plugins are based on the EEL script language, therefore
they are interpreted by Reaper without needing any additional
dependencies and are therefore platform independent. To make the
plugins accessible to Reaper, they need to be copied into the Plugin
folder structure of the Reaper installation. The location of Plugins
can be obtained using the Menu "Options -> Show Reaper source path
...".

#### User Guide: Concepts
To use the plugins it is recommended to create one track per voice
(per monophonic synthesizer). Each track needs to consist of as many
output channels as CVs you want to generate. The default assumption of
the plugin is 6 channels per track. The plugin doesn't have any
inputs. The parameters of the plugin can be manipulated either in real
time (by moving the sliders in the plugin interface) or with the
Reaper automatisation features.

In a rudimentary use case, you can set the output value for each
channel directly.

In a more complex use case, there are the following sliders available.

- for the VCO modulation (frequency):
  - selection of a pitch from a predefined scale
  - setting a scaling factor to tune the output
  - setting a shift value to transpose the output
  - setting a detune value to modify the selected, tuned and
    transposed pitch
- for the gate output:
  - a selection between on and off
- for the VCF cutoff and resonance, and the VCA:
  - selection of a 'sillable' which will define the settings of the
    output channels for the VCF cutoff, the VCF resonance and the VCA

To change the scale and sillable values it is necessary to adapt the
source code of the plugin accordingly. This is possible from within
Reaper, in the plugin editor interface.

If you use git to get the latest versions of the plugins it is
recommended to soft link the plugin files from the local git
repository into the Reaper effects folder.

On Linux / macOS:
```
ln -s /path/to/plugin/file/in/git /path/to/reaper/effects/folder
```

This is an example to make the plugin "arcimoog-default" available in
Reaper. You need to adapt the paths to your system.

```
ln -s ~/Documents/arcimoog/reaper-plugins/arcimoog-default ~/Library/Application\ Support/REAPER/Effects/arcimoog-default
```

### PureData patch
There are two PureData-Patches in development. 'pd-patch' receives
data as OSC messages and interprets them as audio signals. 'pd-mother'
attempts to simulate a MOOG Mother-32 in a rudimentary way. This
enables experimentation without access to hardware synthesizers.

### Common Lisp
To perform complex sequencing it is necessary to create abstractions
of musical thoughts. I chose Common Lisp for this task, mainly because
I have a personal affinity to this language, and because it allows
very fast prototyping in a live context (REPL). The Common Lisp system
arcimoog.asd provides various abstractions and tools to calculate
complex pitch structures.

## Notes
### Using MOTU interfaces with Linux
Unfortunately it was not possible to reliably run MOTU interfaces from
a Linux operating system. The main issue is a unpredictable
reassignment of audio channels in random time intervals. Even with the
'drumfix' kernel patch the issue couldn't be resolved.

Since I prefer to code in a Linux environment, I use a mini computer
running Microsoft Windows 10 as a gateway to the MOTU interfaces. I
connect my Linux machines via a local LAN with the Windows machine. On
the Windows machine, a PureData patch is running, listening for OSC
messages and generating the audio signals.

I turns out that this setup is extremely robust, since the audio
generation is separate from the 'musical logic' software. That allows
daring experimentation on the Linux machines without risking ugly
audio glitches.
